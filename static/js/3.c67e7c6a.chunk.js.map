{"version":3,"sources":["component/user.jsx","component/user_single.jsx"],"names":["UserItem","className","alt","src","this","props","img","to","name","React","Component","UserSingle","state","enroll_year","email","research_orientation","degree","graduate_orientation","link","imgUrl","papers","patents","load","error","error_msg","genPromise","id","match","params","then","data","code","setState","Object","assign","console","log","message","graduate_dt_dd","papers_dd","map","el","key","author","title","conf","year","patents_dd","authorized_id","text","type","length","style","width","height","User","teacher_list","graduate_list","postgraduate_list","load_teacher","load_graduate","load_postgraduate","data-id","content_list","i","push"],"mappings":"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","file":"static/js/3.c67e7c6a.chunk.js","sourcesContent":["import React from 'react';\nimport Header from './header';\nimport {genPromise} from '../plugins';\nimport {Link} from 'react-router-dom';\nimport ResultView from './result';\n\nclass UserItem extends React.Component{\n    render(){\n        return(\n            <div className='card user-item'>\n                <img className='card-img-top rounded-circle' alt=\"用户头像\" \n                src={this.props.img?this.props.img:\"http://localhost/test/img/default.jpg\"}/>\n                <div className='card-body'>\n                    <Link className='card-text' to={\"/people/\"+this.props[\"data-id\"]}>{this.props.name}</Link>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport class UserSingle extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            name:'',\n            enroll_year:'',\n            email:'',\n            research_orientation:'',\n            degree:'',\n            graduate_orientation:'',\n            link:'',\n            imgUrl:'',\n            papers:[],\n            patents:[],\n            load:false,\n            error:false,\n            error_msg:'error'\n        };\n    }\n\n    componentDidMount(){\n        genPromise('GET','http://39.100.113.162/info/user/getById.php',{\n            id:this.props.match.params.id\n        }).then((data)=>{\n            if(data.code===0){\n                this.setState(Object.assign(data.data[0],{\n                    load:true\n                }));\n            }else{\n                this.setState({\n                    error:true,\n                    error_msg:'error'\n                })\n            }\n            \n        },(error)=>{\n            console.log(error);\n            this.setState({\n                error:true,\n                error_msg:error.message\n            })\n        })\n    }\n\n    render(){\n        /*const teacher_dl=[\n            {name:'name',text:'姓名'},\n            {name:'email',text:'email'},\n            {name:'research_orientation',text:'研究方向'}\n        ],\n            graduate_dl=[\n                {name:'name',text:'姓名'},\n                {name:'email',text:'email'},\n                {name:'enroll_year',text:'入学年份'},\n                {name:'degree',text:'学位'},\n                {name:'research_orientation',text:'研究方向'}\n            ],\n            postgraduate_dl=[\n                {name:'name',text:'姓名'},\n                {name:'email',text:'email'},\n                {name:'enroll_year',text:'入学年份'},\n                {name:'degree',text:'学位'},\n                {name:'research_orientation',text:'研究方向'},\n                {name:'graduate_orientation',text:'毕业去向'}\n            ];\n*/\n        const graduate_dt_dd=[\n            <dt>毕业去向</dt>,\n            <dd>{this.state.graduate_orientation}</dd>\n        ];\n        var papers_dd=this.state.papers.map((el)=>\n            (\n                <li key={el.id}>\n                    {el.degree&&(`[${el.degree}]`)}{el.author}.{el.title}.{el.conf},{el.year}\n                </li>\n            )\n        ),\n            patents_dd=this.state.patents.map((el)=>\n            (\n                <li key={el.id}>\n                    {el.title} {el.authorized_id} 发明人:{el.author}\n                </li>\n            )\n        );\n        \n        \n                if(this.state.error){\n                    return(\n                        <div><Header />\n                        <div className='user-container container'>\n                            \n                            <ResultView text={this.state.error_msg} />\n                        </div></div>\n                    )\n                }\n                else if(!this.state.load){\n                    return(\n                        <div><Header />\n                    <div className='user-container container user-signle'>\n                        \n                        <div className='d-flex content-loader flex-wrap justify-content-around'>\n                            <div className='d-flex flex-column flex-wrap'>\n                                <div className='conent-loader-circle rounded-circle bg-grey animated-bg m-3'\n                                    style={{width:'10rem',height:'10rem'}}></div>\n                                <div>\n                                    <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                        style={{width:'8rem',height:'1rem'}}></div>\n                                    <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                        style={{width:'8rem',height:'1rem'}}></div>\n                                </div>\n                            </div>\n                            <div>\n                                <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                    style={{width:'15rem',height:'1rem'}}></div>\n                                <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                    style={{width:'12rem',height:'1rem'}} ></div>\n                            </div>\n                        </div>\n                   </div></div>)\n                }\n                else{\n                    return(\n                        <div><Header />\n            <div className='user-container container user-single'>\n                \n                <div className='user-item card'>\n                    <Link to={this.state.link?this.state.link:\"#\"}>\n                        <img className='card-img-top rounded-circle' \n                        src={this.state.imgUrl?this.state.imgUrl:\"http://localhost/test/img/default.jpg\"} alt='用户头像'/>\n\n                    </Link>\n                    <div className='card-body'>\n                        <p className='card-title font-weight-bold'>{this.state.name}</p>\n                        <p>{this.state.email}</p>\n                        {\n                            this.state.type!==2&&\n                                <p>{this.state.enroll_year+\"级\"+this.state.degree}</p>\n                            \n                        }\n                    </div>\n                </div>\n                <dl>\n                    <dt>研究方向</dt>\n                    <dd>{this.state.research_orientation}</dd>\n                    {\n                        this.state.type===1?graduate_dt_dd:''\n                    }\n                    {this.state.papers.length>0&&<dt>发表论文</dt>}\n                    {this.state.papers.length>0&&<dd><ul>{papers_dd}</ul></dd>}\n                    {this.state.patents.length>0&&<dt>发表专利</dt>}\n                    {this.state.patents.length>0&&<dd><ul>{patents_dd}</ul></dd>}\n\n                </dl>\n            </div></div>)\n            }\n                \n       \n    }\n}\n\nexport default class User extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            teacher_list:[],\n            graduate_list:[],\n            postgraduate_list:[],\n            load_teacher:false,\n            load_graduate:false,\n            load_postgraduate:false,\n            error:false,\n            error_msg:'error'\n        };\n    }\n\n    componentDidMount(){\n\n        genPromise('GET','http://39.100.113.162/info/user/teacher.php').then((data)=>{\n            if(data.code===0){\n                this.setState({\n                    teacher_list:data.data,\n                    load_teacher:true\n                })\n            }else{\n                this.setState({\n                    error:true\n                })\n            }\n\n        },(error)=>{\n            console.log(error);\n            this.setState({\n                error:true,\n                error_msg:error.message\n            })\n        })\n\n\n        genPromise('GET','http://39.100.113.162/info/user/graduate.php').then((data)=>{\n            if(data.code===0){\n                this.setState({\n                    graduate_list:data.data,\n                    load_graduate:true\n                })\n            }else{\n                this.setState({\n                    error:true\n                })\n            }\n\n        },(error)=>{\n            console.log(error);\n            this.setState({\n                error:true,\n                error_msg:error.message\n            })\n        })\n\n        genPromise('GET','http://39.100.113.162/info/user/postgraduate.php').then((data)=>{\n            if(data.code===0){\n                this.setState({\n                    postgraduate_list:data.data,\n                    load_postgraduate:true\n                })\n            }else{\n                this.setState({\n                    error:true\n                })\n            }\n\n        },(error)=>{\n            console.log(error);\n            this.setState({\n                error:true,\n                error_msg:error.message\n            })\n        })\n    }\n\n    render(){\n        const teacher_list= this.state.teacher_list.map((el)=>\n                <UserItem key={el.id} img={el.imgUrl} \n                name={el.name} data-id={el.id} />\n            )\n,\n              graduate_list=this.state.graduate_list.map((el)=>\n                <UserItem key={el.id} img={el.imgUrl} name={el.name} data-id={el.id}/>\n            ),\n              postgraduate_list= this.state.postgraduate_list.map((el)=>\n                <UserItem key={el.id} img={el.imgUrl} name={el.name} data-id={el.id}/>\n            );\n\n        var content_list=[];\n        for(let i=0;i<8;i++){\n            content_list.push(\n                <div key={i} className='p-2' style={{width:'12rem'}}>\n                    <div className='conent-loader-circle rounded-circle bg-grey animated-bg m-3'\n                        style={{width:'8rem',height:'8rem'}}></div>\n                    \n                    <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                        style={{width:'50%',height:'.8rem'}}></div>\n                    <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                        style={{width:'40%',height:'.8rem'}}></div>\n                   \n                </div>\n                \n            )\n        }\n\n       if(this.state.error){\n           return(\n               <div><Header />\n               <div className='container user-container'>\n                   <ResultView text={this.state.error_msg} />\n               </div></div>\n           )\n       }\n       else if(this.state.load_teacher&&this.state.load_graduate&&this.state.load_postgraduate)\n       //if(false)\n            return(\n                <div>\n                    <Header/>\n                <div className='container user-container'>\n                    \n                    <h4 className='title border-bottom'>成员</h4>\n                    <h4 className='subtitle'>teacher</h4>\n                    <div className='card-deck'>\n                        {teacher_list}\n                    </div>\n                    <h4 className='subtitle'>graduate</h4>\n                    <div className='card-deck'>\n                        {graduate_list}\n                    </div>\n                    <h4 className='subtitle'>postgraduate</h4>\n                    <div className='card-deck'>\n                        {postgraduate_list}\n                    </div>\n                </div></div>\n                );\n        else\n            return(\n                /*<div className='d-flex justify-content-center spinner-box'>\n                   <div className=\"spinner-border text-light\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div> \n                </div> */\n                <div><Header />\n                <div className='container user-container'>\n                       \n                        <div className='w-100 p-2'>\n                            <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                style={{width:'85%',height:'.8rem'}}></div>\n                            <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                                style={{width:'60%',height:'.8rem'}}></div>\n                            \n                        </div>\n                        <div className='d-flex flex-wrap'>\n                            {content_list}\n                         </div>\n                    \n                </div></div>);\n               \n        \n    }\n}","import {UserSingle} from './user.jsx';\n\nexport default UserSingle;"],"sourceRoot":""}