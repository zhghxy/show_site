(this["webpackJsonpshow-site"]=this["webpackJsonpshow-site"]||[]).push([[3,7],{63:function(e,t,a){"use strict";a.r(t),a.d(t,"UserSingle",(function(){return p})),a.d(t,"default",(function(){return E}));var r=a(4),n=a(5),l=a(7),s=a(6),i=a(8),c=a(0),d=a.n(c),m=a(21),o=a(28),u=a(12),h=a(29),g=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:"card user-item"},d.a.createElement("img",{className:"card-img-top rounded-circle",alt:"\u7528\u6237\u5934\u50cf",src:this.props.img?this.props.img:"http://localhost/test/img/default.jpg"}),d.a.createElement("div",{className:"card-body"},d.a.createElement(u.b,{className:"card-text",to:"/people/"+this.props["data-id"]},this.props.name)))}}]),t}(d.a.Component),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={name:"",enroll_year:"",email:"",research_orientation:"",degree:"",graduate_orientation:"",link:"",imgUrl:"",papers:[],patents:[],load:!1,error:!1,error_msg:"error"},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(o.a)("GET","http://39.100.113.162/info/user/getById.php",{id:this.props.match.params.id}).then((function(t){0===t.code?e.setState(Object.assign(t.data[0],{load:!0})):e.setState({error:!0,error_msg:"error"})}),(function(t){console.log(t),e.setState({error:!0,error_msg:t.message})}))}},{key:"render",value:function(){var e=[d.a.createElement("dt",null,"\u6bd5\u4e1a\u53bb\u5411"),d.a.createElement("dd",null,this.state.graduate_orientation)],t=this.state.papers.map((function(e){return d.a.createElement("li",{key:e.id},e.degree&&"[".concat(e.degree,"]"),e.author,".",e.title,".",e.conf,",",e.year)})),a=this.state.patents.map((function(e){return d.a.createElement("li",{key:e.id},e.title," ",e.authorized_id," \u53d1\u660e\u4eba:",e.author)}));return this.state.error?d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"user-container container"},d.a.createElement(h.a,{text:this.state.error_msg}))):this.state.load?d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"user-container container user-single"},d.a.createElement("div",{className:"user-item card"},d.a.createElement(u.b,{to:this.state.link?this.state.link:"#"},d.a.createElement("img",{className:"card-img-top rounded-circle",src:this.state.imgUrl?this.state.imgUrl:"http://localhost/test/img/default.jpg",alt:"\u7528\u6237\u5934\u50cf"})),d.a.createElement("div",{className:"card-body"},d.a.createElement("p",{className:"card-title font-weight-bold"},this.state.name),d.a.createElement("p",null,this.state.email),2!==this.state.type&&d.a.createElement("p",null,this.state.enroll_year+"\u7ea7"+this.state.degree))),d.a.createElement("dl",null,d.a.createElement("dt",null,"\u7814\u7a76\u65b9\u5411"),d.a.createElement("dd",null,this.state.research_orientation),1===this.state.type?e:"",this.state.papers.length>0&&d.a.createElement("dt",null,"\u53d1\u8868\u8bba\u6587"),this.state.papers.length>0&&d.a.createElement("dd",null,d.a.createElement("ul",null,t)),this.state.patents.length>0&&d.a.createElement("dt",null,"\u53d1\u8868\u4e13\u5229"),this.state.patents.length>0&&d.a.createElement("dd",null,d.a.createElement("ul",null,a))))):d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"user-container container user-signle"},d.a.createElement("div",{className:"d-flex content-loader flex-wrap justify-content-around"},d.a.createElement("div",{className:"d-flex flex-column flex-wrap"},d.a.createElement("div",{className:"conent-loader-circle rounded-circle bg-grey animated-bg m-3",style:{width:"10rem",height:"10rem"}}),d.a.createElement("div",null,d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"8rem",height:"1rem"}}),d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"8rem",height:"1rem"}}))),d.a.createElement("div",null,d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"15rem",height:"1rem"}}),d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"12rem",height:"1rem"}})))))}}]),t}(d.a.Component),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={teacher_list:[],graduate_list:[],postgraduate_list:[],load_teacher:!1,load_graduate:!1,load_postgraduate:!1,error:!1,error_msg:"error"},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(o.a)("GET","http://39.100.113.162/info/user/teacher.php").then((function(t){0===t.code?e.setState({teacher_list:t.data,load_teacher:!0}):e.setState({error:!0})}),(function(t){console.log(t),e.setState({error:!0,error_msg:t.message})})),Object(o.a)("GET","http://39.100.113.162/info/user/graduate.php").then((function(t){0===t.code?e.setState({graduate_list:t.data,load_graduate:!0}):e.setState({error:!0})}),(function(t){console.log(t),e.setState({error:!0,error_msg:t.message})})),Object(o.a)("GET","http://39.100.113.162/info/user/postgraduate.php").then((function(t){0===t.code?e.setState({postgraduate_list:t.data,load_postgraduate:!0}):e.setState({error:!0})}),(function(t){console.log(t),e.setState({error:!0,error_msg:t.message})}))}},{key:"render",value:function(){for(var e=this.state.teacher_list.map((function(e){return d.a.createElement(g,{key:e.id,img:e.imgUrl,name:e.name,"data-id":e.id})})),t=this.state.graduate_list.map((function(e){return d.a.createElement(g,{key:e.id,img:e.imgUrl,name:e.name,"data-id":e.id})})),a=this.state.postgraduate_list.map((function(e){return d.a.createElement(g,{key:e.id,img:e.imgUrl,name:e.name,"data-id":e.id})})),r=[],n=0;n<8;n++)r.push(d.a.createElement("div",{key:n,className:"p-2",style:{width:"12rem"}},d.a.createElement("div",{className:"conent-loader-circle rounded-circle bg-grey animated-bg m-3",style:{width:"8rem",height:"8rem"}}),d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"50%",height:".8rem"}}),d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"40%",height:".8rem"}})));return this.state.error?d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"container user-container"},d.a.createElement(h.a,{text:this.state.error_msg}))):this.state.load_teacher&&this.state.load_graduate&&this.state.load_postgraduate?d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"container user-container"},d.a.createElement("h4",{className:"title border-bottom"},"\u6210\u5458"),d.a.createElement("h4",{className:"subtitle"},"teacher"),d.a.createElement("div",{className:"card-deck"},e),d.a.createElement("h4",{className:"subtitle"},"graduate"),d.a.createElement("div",{className:"card-deck"},t),d.a.createElement("h4",{className:"subtitle"},"postgraduate"),d.a.createElement("div",{className:"card-deck"},a))):d.a.createElement("div",null,d.a.createElement(m.a,null),d.a.createElement("div",{className:"container user-container"},d.a.createElement("div",{className:"w-100 p-2"},d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"85%",height:".8rem"}}),d.a.createElement("div",{className:"conent-loader-rect rounded-pill bg-grey animated-bg m-3",style:{width:"60%",height:".8rem"}})),d.a.createElement("div",{className:"d-flex flex-wrap"},r)))}}]),t}(d.a.Component)},65:function(e,t,a){"use strict";a.r(t);var r=a(63);t.default=r.UserSingle}}]);
//# sourceMappingURL=3.d0686bfa.chunk.js.map