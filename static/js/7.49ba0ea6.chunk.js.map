{"version":3,"sources":["component/project.jsx"],"names":["ProjectCard","title","this","props","index","match","name_mm","slice","name","en_title","length","style","marginBottom","className","time","React","Component","Project","state","project_list","load","error","error_msg","time_test","genPromise","then","data","code","forEach","el","project_time","project_name","Date","getFullYear","sort","a","b","setState","console","log","message","map","key","abstract","tag","link","ContentLoader","width","height","text"],"mappings":"kPAkCMA,E,iLAEE,IAAMC,EAAQC,KAAKC,MAAMF,MAEnBG,EADKF,KAAKC,MAAMF,MAAMI,MAAM,WAClB,MACVC,EAAQL,EAAMM,MAAMH,GAAOC,MAAM,sBACnCG,EAAKF,EAAQ,GACbG,EAASR,EAAMM,MAAMH,EAAME,EAAO,MAAUE,EAAKE,QAIrD,OACI,4BACI,6BACI,uBAAGC,MAAO,CAACC,aAAa,IACxB,0BAAMC,UAAU,oCACXZ,EAAMM,MAAM,EAAGH,IAChB,8BAAOK,IAIX,2BACKD,EAAK,0BAAMK,UAAU,QAAQX,KAAKC,MAAMW,a,GAtBvCC,IAAMC,WAuCXC,E,YACjB,WAAYd,GAAQ,IAAD,8BACf,4CAAMA,KACDe,MAAQ,CACTC,aAAc,GACdC,MAAM,EACNC,OAAO,EACPC,UAAW,SANA,E,iFASC,IAAD,OACTC,EAAW,8IACjBC,YAAW,MAAM,kDAAkDC,MAC/D,SAACC,GACkB,IAAZA,EAAKC,MACJD,EAAKA,KAAKE,SAAQ,SAACC,GACf,IAAIC,EAAaD,EAAGE,aAAa1B,MAAMkB,GAEvCM,EAAGf,KAAKgB,EAAa,IAAIA,EAAa,KAAI,IAAIE,MAAOC,iBAEzDP,EAAKA,KAAKQ,MAAK,SAACC,EAAGC,GACf,OAAOA,EAAEtB,KAAOqB,EAAErB,QAGtB,EAAKuB,SAAS,CACVlB,aAAcO,EAAKA,KACnBN,MAAM,KAGV,EAAKiB,SAAS,CACVhB,OAAO,OAGhB,SAACA,GACAiB,QAAQC,IAAIlB,GACZ,EAAKgB,SAAS,CACVhB,OAAO,EACPC,UAAWD,EAAMmB,e,+BAS7B,IAAMrB,EAAejB,KAAKgB,MAAMC,aAAasB,KAAI,SAACZ,EAAIzB,GAAL,OAC7C,kBAACJ,EAAD,CAAa0C,IAAKtC,EACdH,MAAO4B,EAAGE,aACVjB,KAAMe,EAAGC,aACTa,SAAUd,EAAGc,SACbC,IAAKf,EAAGe,IACRC,KAAMhB,EAAGgB,UAEXC,EAAgB,kBACjB,yBAAKjC,UAAU,sBACZ,yBAAKA,UAAU,0DACXF,MAAO,CAAEoC,MAAO,MAAOC,OAAQ,WACnC,yBAAKnC,UAAU,0DACXF,MAAO,CAAEoC,MAAO,MAAOC,OAAQ,WACnC,yBAAKnC,UAAU,0DACXF,MAAO,CAAEoC,MAAO,MAAOC,OAAQ,aAE3C,OAAI9C,KAAKgB,MAAMG,MAEP,6BAAK,kBAAC,IAAD,MACD,yBAAKR,UAAU,+BAEX,kBAAC,IAAD,CAAYoC,KAAM/C,KAAKgB,MAAMI,cAIpCpB,KAAKgB,MAAME,KAEZ,iCAAM,kBAAC,IAAD,MACF,yBAAKP,UAAU,+BAEX,wBAAIA,UAAU,uBAAd,gBACA,4BACKM,KAMb,6BAAK,kBAAC,IAAD,MACD,yBAAKN,UAAU,+BAEX,yBAAKA,UAAU,0DACXF,MAAO,CAAEoC,MAAO,MAAOC,OAAQ,WACnC,kBAACF,EAAD,MACA,kBAACA,EAAD,MACA,kBAACA,EAAD,Y,GA5Fa/B,IAAMC","file":"static/js/7.49ba0ea6.chunk.js","sourcesContent":["import React from 'react';\nimport { genPromise } from '../plugins';\nimport ResultView from './result.jsx';\nimport Header from './header'\n\n\n\n/*\nexport class ProjectCard extends React.Component{\n    render(){\n        return(\n            <div className='card'>\n                <div className=\"card-body\">\n                    <span className=\"badge\">{this.props.tag}</span>\n                    <h5 className=\"card-title\">\n                        {this.props.title}\n                        \n                    </h5>\n                    <p className=\"card-text\">{this.props.abstract}</p>\n                    {this.props.link&&<a className='btn btn-self' href={this.props.link}>Link</a>}\n                </div>\n            </div>\n        )\n    }\n}\n*/\n\n/**\n * @description 单个项目展示\n * @author zhghxy\n * @date 2020-03-21\n * @class ProjectCard\n * @extends {React.Component}\n */\nclass ProjectCard extends React.Component {\n    render() {\n        const title = this.props.title;\n        const mm = this.props.title.match(/[\\n\\r]+/);\n        const index = mm['index'];\n        const name_mm=title.slice(index).match(/([\\u4e00-\\u9fa5]+)/);\n        var name=name_mm[0],\n            en_title=title.slice(index+name_mm['index']+name.length);\n       \n        //console.log(title.slice(index).match(/([\\u4e00-\\u9fa5]+)/));\n       // console.log(en_title);\n        return (\n            <li>\n                <div >\n                    <p style={{marginBottom:0}}>\n                    <span className=\"badge badge-pill badge-secondary\">\n                        {title.slice(0, index)}</span>\n                        <span>{en_title}</span>\n                    \n                    </p>\n                    \n                    <p>\n                        {name}<span className='ml-1'>{this.props.time}</span>\n                    </p>\n                </div>\n            </li>\n        )\n    }\n}\n\n\n/**\n * @description 项目展示页面\n * @author zhghxy\n * @date 2020-03-21\n * @export\n * @class Project\n * @extends {React.Component}\n */\nexport default class Project extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            project_list: [],\n            load: false,\n            error: false,\n            error_msg: 'error'\n        }\n    }\n    componentDidMount(){\n        const time_test= /((\\d{4})年(\\d{1,2}月)?[-至](\\d{4})年(\\d{1,2}月)?)|((\\d{4})\\.\\d{1,2}\\.\\d{1,2}[-至](\\d{4})\\.\\d{1,2}\\.\\d{1,2})[\\n\\r]*$/;\n        genPromise('GET','http://39.100.113.162/info/project/project.php').then(\n            (data)=>{\n                if(data.code===0){\n                    data.data.forEach((el)=>{\n                        var project_time=el.project_name.match(time_test);\n                        \n                        el.time=project_time[2]||project_time[7]||new Date().getFullYear();\n                    })\n                    data.data.sort((a, b) => {\n                        return b.time - a.time;\n                    })\n                    //console.log(data.data);\n                    this.setState({\n                        project_list: data.data,\n                        load: true\n                    })\n                } else {\n                    this.setState({\n                        error: true\n                    })\n                }\n            }, (error) => {\n                console.log(error);\n                this.setState({\n                    error: true,\n                    error_msg: error.message\n                })\n            }\n        )\n    }\n\n    render() {\n\n\n        const project_list = this.state.project_list.map((el, index) =>\n            <ProjectCard key={index}\n                title={el.project_name}\n                time={el.project_time}\n                abstract={el.abstract}\n                tag={el.tag}\n                link={el.link} />\n        );\n        const ContentLoader = () =>\n            (<div className='content-loader p-2'>\n                <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                    style={{ width: '85%', height: '.8rem' }}></div>\n                <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                    style={{ width: '60%', height: '.8rem' }}></div>\n                <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                    style={{ width: '60%', height: '.8rem' }}></div>\n            </div>);\n        if (this.state.error) {\n            return (\n                <div><Header />\n                    <div className='container project-container'>\n\n                        <ResultView text={this.state.error_msg} />\n                    </div></div>\n            )\n        }\n        else if (this.state.load) {\n            return (\n                <div> <Header />\n                    <div className='container project-container'>\n\n                        <h4 className='title border-bottom'>项目</h4>\n                        <ul>\n                            {project_list}\n                        </ul>\n                    </div></div>\n            );\n        } else {\n            return (\n                <div><Header />\n                    <div className='container project-container'>\n\n                        <div className='conent-loader-rect rounded-pill bg-grey animated-bg m-3'\n                            style={{ width: '25%', height: '.8rem' }}></div>\n                        <ContentLoader />\n                        <ContentLoader />\n                        <ContentLoader />\n                    </div></div>\n\n            )\n        }\n\n    }\n}"],"sourceRoot":""}